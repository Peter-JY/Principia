\documentclass[10pt, a4paper, twoside]{basestyle}

\usepackage{tikz}
\usetikzlibrary{cd}

\usepackage[Mathematics]{semtex}
\usepackage{chngcntr}
\counterwithout{equation}{section}

%%%% Shorthands.

\newcommand{\squarenorm}[1]{\scal{#1}{#1}}

%%%% Title and authors.

\title{Rotational Motion of a Rigid Reference Frame}
\date{\printdate{2020-06-03}}
\author{Pascal~Leroy (phl)}
\begin{document}
\maketitle
\begin{sloppypar}
\noindent
This document describes the computations that are performed by the class \texttt{RigidReferenceFrame} and its subclasses to determine the rotational motion (rotation,
angular velocity, and angular accelation) of a rigid frame.
\end{sloppypar}

\section*{Definitions}
We are considering in this section a rigid reference frame that is defined by two bodies $B_1$ and $B_2$ at positions $q_1$ and $q_2$, respectively.  A basis of the reference frame is defined by three vectors:
\begin{itemize}
\item{the \emph{fore} vector $\vF$ which is along the axis $q_2 - q_1$;}
\item{the \emph{normal} vector $\vN$ which is orthogonal to $\vF$ and is such that the velocity of the frame, $\dot{q_2} - \dot{q_1}$ is in the plane $\pa{\vF, \vN}$;}
\item{the \emph{binormal} vector $\vB$ which is orthogonal to $\vF$ and $\vN$ such that $\pa{\vF, \vN, \vB}$ forms a direct trihedron.}
\end{itemize}
There are obviously many possible choices for $\pa{\vF, \vN, \vB}$.  In practice, it is convenient to choose $\vB$ before $\vN$ so that the basis is defined exclusively using vector products:
\begin{equation}
\begin{dcases}
\vF &= \vr \\
\vB &= \vr \wedge \dot{\vr} \\
\vN &= \vB \wedge \vF
\end{dcases}
\label{eqnFBN}
\end{equation}
where we have defined $\vr \DefineAs q_2 - q_1$.  Is trivial to check that these definitions satisfy the properties above, and in particular that they determine a direct orthogonal basis.  The corresponding orthonormal basis is:
\begin{equation}
\begin{dcases}
\vf &= \frac{\vF}{\norm\vF} \\
\vb &= \frac{\vB}{\norm\vB} \\
\vn &= \frac{\vN}{\norm\vN}
\end{dcases}
\label{eqnfbn}
\end{equation}
\section*{Derivatives of normalized vectors}
In what follows, we will need to derive the elements of the trihedron $\pa{\vf, \vn, \vb}$.  To help with this we prove two formul√¶ that define the first and second derivative of $\vV/{\norm\vV}$ based on that of $\vV$.

The first derivative is:
\begin{align}
\deriv{t}{}\frac{\vV}{\norm\vV} &= \frac{\norm\vV \dot{\vV} - \deriv{t}{\norm\vV} \vV}{\norm\vV^2} \nonumber \\
&=\frac{\norm\vV \dot{\vV} - \frac{\pascal{\scal{\vV}{\dot{\vV}}}}{\norm\vV} \vV}{\norm\vV^2} \nonumber \\
&=\frac{\norm\vV^2 \dot{\vV} - \pascal{\scal{\vV}{\dot{\vV}}} \vV}{\norm\vV^3}
\end{align}

The second derivative is somewhat more complicated:
\begin{align}
\deriv[2]{t}{}\frac{\vV}{\norm\vV} &=\deriv{t}{}\pa{\frac{\norm\vV^2 \dot{\vV} - \pascal{\scal{\vV}{\dot{\vV}}} \vV}{\norm\vV^3}} \nonumber \\
&=\frac{\norm\vV^3 \deriv{t}{}\pa{\norm\vV^2 \dot{\vV} - \pascal{\scal{\vV}{\dot{\vV}}} \vV} - 
  3 \norm\vV \pascal{\scal{\vV}{\dot{\vV}}}\pa{\norm\vV^2 \dot{\vV} - \pascal{\scal{\vV}{\dot{\vV}}} \vV}}{\norm\vV^6} \nonumber \\
&=\frac{2 \pascal{\scal{\vV}{\dot{\vV}}} \dot{\vV} +
    \norm\vV^2 \ddot{\vV} -
    \pa{\norm{\dot{\vV}}^2 + \pascal{\scal{\vV}{\ddot{\vV}}}} \vV -
    \pascal{\scal{\vV}{\dot{\vV}}} \dot{\vV}}
    {\norm\vV^3} -
  3\frac{\norm\vV^3 \pascal{\scal{\vV}{\dot{\vV}}} \dot{\vV} - \norm\vV \pascal{\scal{\vV}{\dot{\vV}}}^2 \vV}
    {\norm\vV^6} \nonumber \\
&=\frac{\ddot{\vV}}{\norm\vV} - 2 \dot{\vV} \frac{\pascal{\scal{\vV}{\dot{\vV}}}}{\norm\vV^3} 
  - \vV \frac{\norm{\dot{\vV}}^2 + \pascal{\scal{\vV}{\ddot{\vV}}}}{\norm\vV^3} + 3 \vV \frac{\pascal{\scal{\vV}{\dot{\vV}}}^2}{\norm\vV^5}
\end{align}
\section*{First derivative and rotation}
Deriving the definitions (\ref{eqnFBN}) we obtain:
\[
\begin{dcases}
\dot{\vF} &= \dot{\vr} \\
\dot{\vB} &= \vr \wedge \ddot{\vr} \\
\dot{\vN} &= \dot{\vB} \wedge \vF + \vB \wedge \dot{\vF}
\end{dcases}
\]
\end{document}